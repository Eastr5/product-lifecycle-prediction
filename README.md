# ğŸš€ ä½¿ç”¨æ·±åº¦å­¦ä¹ è¿›è¡Œäº§å“ç”Ÿå‘½å‘¨æœŸé¢„æµ‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå…ˆè¿›çš„é”€å”®é¢„æµ‹ç³»ç»Ÿï¼Œåˆ©ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹æ¥é¢„æµ‹äº§å“çš„é”€å”®è¶‹åŠ¿å’Œç”Ÿå‘½å‘¨æœŸã€‚è¯¥é¡¹ç›®æœ€åˆæ˜¯ä¸ºæ·±åº¦å­¦ä¹ è¯¾ç¨‹è€Œè®¾è®¡ï¼Œå…¶å¼ºå¤§çš„åŠŸèƒ½å’Œæ¨¡å—åŒ–çš„æ¶æ„ä¹Ÿä½¿å…¶å…·å¤‡ä½œä¸ºå•†ä¸šæ™ºèƒ½ï¼ˆBIï¼‰å·¥å…·è¿›è¡ŒäºŒæ¬¡å¼€å‘çš„æ½œåŠ›ã€‚

é¡¹ç›®çš„æ ¸å¿ƒæ˜¯è§£å†³å¤æ‚çš„ã€å¤šå±‚æ¬¡çš„æ—¶é—´åºåˆ—é¢„æµ‹é—®é¢˜ï¼Œå…¶è®¾è®¡çµæ„Ÿå’Œè¯„ä¼°ä½“ç³»æ¥æºäºé›¶å”®ä¸šæƒå¨çš„ M5 é”€å”®é¢„æµ‹ç«èµ›ã€‚

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

æœ¬é¡¹ç›®å¹¶éä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€ç«¯åˆ°ç«¯çš„æ·±åº¦å­¦ä¹ åº”ç”¨æµç¨‹ã€‚

#### 1. ğŸ”„ ç«¯åˆ°ç«¯çš„æ‰§è¡Œæµç¨‹
é¡¹ç›®ç”±ä¸€ä¸ªä¸»è„šæœ¬ `main.py` é©±åŠ¨ï¼Œå®ƒæ•´åˆäº†æ‰€æœ‰æ­¥éª¤ï¼Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼š
- **ğŸ“¥ åŠ è½½é…ç½®**: ä» `config.yaml` è¯»å–æ‰€æœ‰è®¾ç½®ã€‚
- **ğŸ—ï¸ æ•°æ®åŠ è½½ä¸ç‰¹å¾å·¥ç¨‹**: è°ƒç”¨ `FeatureBuilder` ç”Ÿæˆæ¨¡å‹æ‰€éœ€çš„ç‰¹å¾ã€‚
- **ğŸ§  æ¨¡å‹è®­ç»ƒ**: è°ƒç”¨ `Trainer` æ¨¡å—è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒã€‚
- **ğŸ“Š æ¨¡å‹è¯„ä¼°**: è®­ç»ƒç»“æŸåï¼Œè°ƒç”¨ `Evaluator` è®¡ç®—é¢„æµ‹å¾—åˆ†ã€‚
- **ğŸ“ˆ ç»“æœè§£è¯»ä¸å¯è§†åŒ–**: è°ƒç”¨ `Interpreter` ç”Ÿæˆå¯è§†åŒ–çš„ä»ªè¡¨æ¿æŠ¥å‘Šã€‚

#### 2. âš™ï¸ æ•°æ®é©±åŠ¨çš„çµæ´»é…ç½®
æ‰€æœ‰å®éªŒå‚æ•°éƒ½é€šè¿‡ `config.yaml` æ–‡ä»¶è¿›è¡Œç®¡ç†ï¼Œå®ç°äº†ä»£ç ä¸é…ç½®çš„åˆ†ç¦»ã€‚è¿™ä½¿å¾—ç ”ç©¶äººå‘˜å¯ä»¥åœ¨ä¸ä¿®æ”¹ä»»ä½•Pythonä»£ç çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œå„ç§å®éªŒï¼š
- **ğŸ“ è·¯å¾„ç®¡ç†**: çµæ´»é…ç½®æ•°æ®ã€æ¨¡å‹å’Œç»“æœçš„å­˜å‚¨ä½ç½®ã€‚
- **ğŸ¯ æ¨¡å‹å®šåˆ¶**: è‡ªç”±å®šä¹‰ç¥ç»ç½‘ç»œçš„å±‚æ•°ã€ç¥ç»å…ƒæ•°é‡ã€åµŒå…¥ç»´åº¦ç­‰ã€‚
- **ğŸ”§ è®­ç»ƒè°ƒä¼˜**: è½»æ¾è°ƒæ•´å­¦ä¹ ç‡ã€æ‰¹å¤„ç†å¤§å°ï¼ˆbatch sizeï¼‰ã€è®­ç»ƒå‘¨æœŸï¼ˆepochsï¼‰ç­‰è¶…å‚æ•°ã€‚

#### 3. âœ¨ ç²¾ç»†åŒ–çš„ç‰¹å¾å·¥ç¨‹
ç‰¹å¾æ˜¯å†³å®šæ¨¡å‹ä¸Šé™çš„å…³é”®ã€‚`src/feature_engineering/builder.py` æ¨¡å—è´Ÿè´£æ„å»ºä¸€ä¸ªä¸°å¯Œçš„ç‰¹å¾é›†ï¼Œä¸»è¦åŒ…æ‹¬ï¼š
- **â° æ—¶é—´ç‰¹å¾**: å¹´ã€æœˆã€æ—¥ã€æ˜ŸæœŸå‡ ã€ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ç­‰ã€‚
- **ğŸ”„ æ»åï¼ˆLagï¼‰ç‰¹å¾**: è¿‡å»ä¸åŒæ—¶é—´ç‚¹ï¼ˆå¦‚å‰7å¤©ï¼Œå‰28å¤©ï¼‰çš„é”€å”®é¢ï¼Œç”¨äºæ•æ‰çŸ­æœŸä¾èµ–å…³ç³»ã€‚
- **ğŸ“Š æ»šåŠ¨çª—å£ï¼ˆRolling Windowï¼‰ç»Ÿè®¡**: åœ¨ç‰¹å®šçª—å£æœŸï¼ˆå¦‚7å¤©ã€30å¤©ï¼‰å†…çš„é”€å”®é¢å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å¤§/æœ€å°å€¼ç­‰ï¼Œç”¨äºæ•æ‰è¶‹åŠ¿å’Œç¨³å®šæ€§ã€‚
- **ğŸ‰ äº‹ä»¶ä¸å‡æ—¥**: ä» `calendar.csv` ä¸­æå–çš„èŠ‚å‡æ—¥ã€ä½“è‚²èµ›äº‹ç­‰ç‰¹æ®Šäº‹ä»¶çš„æ ‡å¿—ä½ã€‚

#### 4. ğŸ¤– å…ˆè¿›çš„æ·±åº¦å­¦ä¹ æ¨¡å‹
é¡¹ç›®æ ¸å¿ƒæ˜¯ä¸€ä¸ªå¯é«˜åº¦å®šåˆ¶çš„æ·±åº¦ç¥ç»ç½‘ç»œå›å½’å™¨ `src/models/builders_reg.py`ï¼Œå…¶æ¶æ„ä¸ºï¼š
- **ğŸ”— å®ä½“åµŒå…¥ï¼ˆEntity Embeddingsï¼‰**: å¯¹é«˜åŸºæ•°çš„åˆ†ç±»ç‰¹å¾ï¼ˆå¦‚å•†å“IDã€åº—é“ºIDã€å·IDï¼‰è¿›è¡ŒåµŒå…¥ï¼Œå°†å®ƒä»¬è½¬æ¢ä¸ºå¯†é›†çš„å‘é‡è¡¨ç¤ºï¼Œä»è€Œæ•æ‰å…¶å†…åœ¨å…³è”ã€‚
- **ğŸ§© å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰**: å°†åµŒå…¥å‘é‡ä¸æ•°å€¼ç‰¹å¾æ‹¼æ¥åï¼Œè¾“å…¥åˆ°ä¸€ä¸ªåŒ…å«å¤šä¸ªéšè—å±‚çš„å…¨è¿æ¥ç½‘ç»œä¸­ï¼Œè¿›è¡Œéçº¿æ€§å˜æ¢å’Œæœ€ç»ˆçš„é”€å”®é¢„æµ‹ã€‚
- **ğŸ”® è‡ªç¼–ç å™¨ï¼ˆAutoencoderï¼‰**: é¡¹ç›®ä¸­è¿˜åŒ…å«ä¸€ä¸ªè‡ªç¼–ç å™¨æ¨¡å‹ `src/models/autoencoder.py`ï¼Œå¯ç”¨äºå¯¹æ—¶é—´åºåˆ—è¿›è¡Œæ— ç›‘ç£çš„è¡¨ç¤ºå­¦ä¹ æˆ–å¼‚å¸¸æ£€æµ‹ã€‚

#### 5. ğŸ“ ä¸¥è°¨çš„è®­ç»ƒä¸è¯„ä¼°
- **ğŸ¯ è‡ªå®šä¹‰æŸå¤±å‡½æ•°**: ä¸ºäº†å¯¹é½M5ç«èµ›çš„ç›®æ ‡ï¼Œé¡¹ç›®ä½¿ç”¨äº† WRMSSEï¼ˆåŠ æƒå‡æ–¹æ ¹æ¯”ä¾‹è¯¯å·®ï¼‰ä½œä¸ºæ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡ã€‚è¯„ä¼°é€»è¾‘åœ¨ `src/evaluation/evaluator_reg.py` ä¸­å®ç°ã€‚WRMSSEèƒ½å¤Ÿæ ¹æ®ä¸åŒäº§å“å’Œåœ°åŒºçš„é”€å”®é¢å’Œæ³¢åŠ¨æ€§ï¼Œå¯¹é¢„æµ‹è¯¯å·®è¿›è¡ŒåŠ æƒï¼Œæ˜¯ä¸€ç§æ¯”æ™®é€šRMSEæ›´å…¬å¹³ã€æ›´å…·æŒ‘æˆ˜æ€§çš„æŒ‡æ ‡ã€‚
- **ğŸƒâ€â™‚ï¸ è®­ç»ƒæµç¨‹**: `src/models/trainer_reg.py` ä¸­å®ç°äº†å®Œæ•´çš„è®­ç»ƒå¾ªç¯ï¼ŒåŒ…æ‹¬å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼ˆLearning Rate Schedulerï¼‰ï¼Œä»¥å¸®åŠ©æ¨¡å‹æ›´å¥½åœ°æ”¶æ•›ã€‚

#### 6. ğŸ¨ äº¤äº’å¼çš„ç»“æœå¯è§†åŒ–
æ¨¡å‹çš„å¥½åæœ€ç»ˆéœ€è¦ç›´è§‚åœ°å±•ç°ã€‚`src/prediction_interpretation/interpreter.py` æ¨¡å—ä½¿ç”¨ `Plotly` åº“ç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„HTMLä»ªè¡¨æ¿ï¼ˆå¦‚ `dashboard_report.html`ï¼‰ï¼Œç”¨æˆ·å¯ä»¥äº¤äº’å¼åœ°ç¼©æ”¾ã€å¹³ç§»ï¼Œç›´è§‚åœ°å¯¹æ¯”æ¨¡å‹é¢„æµ‹å€¼ä¸çœŸå®é”€å”®æ•°æ®ï¼Œä»è€Œè¿›è¡Œæ·±å…¥çš„è¯¯å·®åˆ†æã€‚

## ğŸ”„ ç³»ç»Ÿå·¥ä½œæµ

é¡¹ç›®çš„æ•°æ®æµå’Œå¤„ç†æµç¨‹å¯ä»¥æ¦‚æ‹¬å¦‚ä¸‹ï¼š

`ğŸ“Š åŸå§‹æ•°æ® (CSVs)` -> `[1. ğŸ—ï¸ ç‰¹å¾å·¥ç¨‹]` -> `âœ¨ ç‰¹å¾æ•°æ®` -> `[2. ğŸ§  æ¨¡å‹è®­ç»ƒ]` -> `ğŸ¤– å·²è®­ç»ƒæ¨¡å‹` -> `[3. ğŸ“Š è¯„ä¼°]` -> `ğŸ“ˆ æ€§èƒ½åˆ†æ•° (JSON)` -> `[4. ğŸ¨ è§£è¯»]` -> `ğŸ“‹ å¯è§†åŒ–æŠ¥å‘Š (HTML)`

## ğŸ’» å®‰è£…ä¸ä½¿ç”¨æŒ‡å—

1.  **ğŸ“¦ å…‹éš†ä»“åº“å¹¶å®‰è£…ä¾èµ–**
    ```bash
    # å»ºè®®åœ¨è™šæ‹Ÿç¯å¢ƒä¸­æ“ä½œ
    git clone <your-repo-url>
    cd product-lifecycle-prediction
    pip install -r requirements.txt
    ```

2.  **ğŸ“ å‡†å¤‡æ•°æ®**
    - åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `data` çš„æ–‡ä»¶å¤¹ã€‚
    - å°†M5ç«èµ›çš„ä¸‰ä¸ªæ ¸å¿ƒæ•°æ®æ–‡ä»¶ `sales_train_validation.csv`, `calendar.csv`, å’Œ `sell_prices.csv` æ”¾å…¥ `data` æ–‡ä»¶å¤¹ã€‚
    - å¦‚æœæ‚¨çš„æ•°æ®è·¯å¾„ä¸åŒï¼Œè¯·åœ¨ `config.yaml` ä¸­æ›´æ–° `data_params` ä¸‹çš„è·¯å¾„ã€‚

3.  **âš™ï¸ é…ç½®æ‚¨çš„å®éªŒ**
    - æ‰“å¼€ `config.yaml`ã€‚
    - è®¾ç½®ä¸€ä¸ªç‹¬ç‰¹çš„ `version` åç§°ï¼Œè¿™å°†ç”¨äºåˆ›å»ºå­˜æ”¾ç»“æœçš„æ–‡ä»¶å¤¹ã€‚
    - æ ¹æ®æ‚¨çš„å®éªŒè®¾è®¡ï¼Œè°ƒæ•´ `model_params` å’Œ `train_params`ã€‚

4.  **ğŸš€ å¼€å§‹è®­ç»ƒ**
    - è¿è¡Œä¸»è„šæœ¬ã€‚ä½¿ç”¨ `--version` å‚æ•°æŒ‡å®šæœ¬æ¬¡è¿è¡Œçš„ç‰ˆæœ¬ï¼Œç»“æœå°†ä¿å­˜åœ¨ `results/<version>/` ç›®å½•ä¸‹ã€‚
    - æ·»åŠ  `--gpu` æ ‡å¿—ä»¥ä½¿ç”¨GPUè¿›è¡Œè®­ç»ƒï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚

    ```bash
    # ç¤ºä¾‹ï¼šè¿è¡Œåä¸º "v1_baseline" çš„å®éªŒï¼Œå¹¶ä½¿ç”¨GPU
    python main.py --version v1_baseline --gpu
    ```

5.  **ğŸ“‹ æŸ¥çœ‹ç»“æœ**
    - è®­ç»ƒå®Œæˆåï¼Œè¿›å…¥ `results/v1_baseline/` æ–‡ä»¶å¤¹ã€‚
    - `experiment_regression_v1_baseline.log` æ–‡ä»¶è®°å½•äº†è¯¦ç»†çš„è®­ç»ƒæ—¥å¿—ã€‚
    - `pytorch_regression_evaluation_v1_baseline.json` æ–‡ä»¶åŒ…å«äº†æœ€ç»ˆçš„è¯„ä¼°åˆ†æ•°ã€‚
    - `dashboard_report.html` æ˜¯æ‚¨å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€çš„äº¤äº’å¼å¯è§†åŒ–æŠ¥å‘Šã€‚

## ğŸ“‚ æ–‡ä»¶ç»“æ„å¯¼è§ˆ



```
.
â”œâ”€â”€ config.yaml                   # æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸€åˆ‡å®éªŒçš„èµ·ç‚¹
â”œâ”€â”€ main.py                       # é¡¹ç›®ä¸»æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ models/                       # å­˜æ”¾é¢„è®¡ç®—çš„WRMSSEæƒé‡å’Œç¼©æ”¾å› å­
â”œâ”€â”€ results/                      # ä¿å­˜æ‰€æœ‰å®éªŒè¾“å‡ºï¼šæ—¥å¿—ã€åˆ†æ•°ã€æŠ¥å‘Š
â””â”€â”€ src/                          # é¡¹ç›®æºä»£ç 
    â”œâ”€â”€ feature_engineering/    # ç‰¹å¾å·¥ç¨‹æ¨¡å—
    â”œâ”€â”€ models/                 # åŒ…å«æ¨¡å‹å®šä¹‰(autoencoder.py, builders_reg.py)å’Œè®­ç»ƒå™¨(trainer_reg.py)
    â”œâ”€â”€ evaluation/             # æ¨¡å‹è¯„ä¼°æ¨¡å—
    â”œâ”€â”€ prediction_interpretation/ # ç»“æœå¯è§†åŒ–æ¨¡å—
    â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°ï¼Œå¦‚é…ç½®åŠ è½½
```